<svg width="1067" height="600" viewBox="0 0 1067 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="widgetGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#42A5F5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E88E5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="elementGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#26C6DA;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00ACC1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="renderGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#66BB6A;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#43A047;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#757575"/>
    </marker>
  </defs>

  <rect width="1067" height="600" fill="#F8F9FA"/>

  <text x="533" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#02569B">Flutter Architecture: Three Trees</text>

  <g id="widget-tree">
    <rect x="100" y="80" width="200" height="450" rx="15" fill="url(#widgetGradient)" opacity="0.1"/>
    <text x="200" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1565C0">Widget Tree</text>
    <text x="200" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#424242">Configuration</text>

    <circle cx="200" cy="160" r="20" fill="url(#widgetGradient)" stroke="#1565C0" stroke-width="2"/>
    <text x="200" y="166" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">App</text>

    <circle cx="170" cy="220" r="15" fill="url(#widgetGradient)" stroke="#1565C0" stroke-width="2"/>
    <text x="170" y="226" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Widget</text>

    <circle cx="230" cy="220" r="15" fill="url(#widgetGradient)" stroke="#1565C0" stroke-width="2"/>
    <text x="230" y="226" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Widget</text>

    <circle cx="150" cy="280" r="12" fill="url(#widgetGradient)" stroke="#1565C0" stroke-width="2"/>
    <text x="150" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Widget</text>

    <circle cx="190" cy="280" r="12" fill="url(#widgetGradient)" stroke="#1565C0" stroke-width="2"/>
    <text x="190" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Widget</text>

    <circle cx="230" cy="280" r="12" fill="url(#widgetGradient)" stroke="#1565C0" stroke-width="2"/>
    <text x="230" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Widget</text>

    <line x1="200" y1="180" x2="170" y2="205" stroke="#1565C0" stroke-width="2"/>
    <line x1="200" y1="180" x2="230" y2="205" stroke="#1565C0" stroke-width="2"/>
    <line x1="170" y1="235" x2="150" y2="268" stroke="#1565C0" stroke-width="2"/>
    <line x1="170" y1="235" x2="190" y2="268" stroke="#1565C0" stroke-width="2"/>
    <line x1="230" y1="235" x2="230" y2="268" stroke="#1565C0" stroke-width="2"/>

    <rect x="110" y="350" width="180" height="80" rx="8" fill="white" stroke="#1565C0" stroke-width="1" opacity="0.9"/>
    <text x="200" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1565C0">Characteristics:</text>
    <text x="200" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Immutable</text>
    <text x="200" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Rebuilt frequently</text>
    <text x="200" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Lightweight</text>
  </g>

  <g id="element-tree">
    <rect x="433" y="80" width="200" height="450" rx="15" fill="url(#elementGradient)" opacity="0.1"/>
    <text x="533" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#00838F">Element Tree</text>
    <text x="533" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#424242">Lifecycle</text>

    <rect x="513" y="150" width="40" height="25" rx="5" fill="url(#elementGradient)" stroke="#00838F" stroke-width="2"/>
    <text x="533" y="166" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Element</text>

    <rect x="493" y="210" width="35" height="20" rx="4" fill="url(#elementGradient)" stroke="#00838F" stroke-width="2"/>
    <text x="510" y="223" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Element</text>

    <rect x="538" y="210" width="35" height="20" rx="4" fill="url(#elementGradient)" stroke="#00838F" stroke-width="2"/>
    <text x="555" y="223" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Element</text>

    <rect x="473" y="270" width="30" height="18" rx="3" fill="url(#elementGradient)" stroke="#00838F" stroke-width="2"/>
    <text x="488" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="white">Element</text>

    <rect x="508" y="270" width="30" height="18" rx="3" fill="url(#elementGradient)" stroke="#00838F" stroke-width="2"/>
    <text x="523" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="white">Element</text>

    <rect x="543" y="270" width="30" height="18" rx="3" fill="url(#elementGradient)" stroke="#00838F" stroke-width="2"/>
    <text x="558" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="white">Element</text>

    <line x1="533" y1="175" x2="510" y2="210" stroke="#00838F" stroke-width="2"/>
    <line x1="533" y1="175" x2="555" y2="210" stroke="#00838F" stroke-width="2"/>
    <line x1="510" y1="230" x2="488" y2="270" stroke="#00838F" stroke-width="2"/>
    <line x1="510" y1="230" x2="523" y2="270" stroke="#00838F" stroke-width="2"/>
    <line x1="555" y1="230" x2="558" y2="270" stroke="#00838F" stroke-width="2"/>

    <rect x="443" y="350" width="180" height="80" rx="8" fill="white" stroke="#00838F" stroke-width="1" opacity="0.9"/>
    <text x="533" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#00838F">Characteristics:</text>
    <text x="533" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Manages lifecycle</text>
    <text x="533" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Persistent</text>
    <text x="533" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">BuildContext</text>
  </g>

  <g id="render-tree">
    <rect x="767" y="80" width="200" height="450" rx="15" fill="url(#renderGradient)" opacity="0.1"/>
    <text x="867" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2E7D32">Render Tree</text>
    <text x="867" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#424242">Layout and Paint</text>

    <polygon points="847,160 867,140 887,160 867,180" fill="url(#renderGradient)" stroke="#2E7D32" stroke-width="2"/>
    <text x="867" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Render</text>

    <polygon points="827,220 842,205 857,220 842,235" fill="url(#renderGradient)" stroke="#2E7D32" stroke-width="2"/>
    <text x="842" y="223" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="white">Render</text>

    <polygon points="877,220 892,205 907,220 892,235" fill="url(#renderGradient)" stroke="#2E7D32" stroke-width="2"/>
    <text x="892" y="223" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="white">Render</text>

    <polygon points="807,280 817,270 827,280 817,290" fill="url(#renderGradient)" stroke="#2E7D32" stroke-width="2"/>
    <text x="817" y="283" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="white">R</text>

    <polygon points="837,280 847,270 857,280 847,290" fill="url(#renderGradient)" stroke="#2E7D32" stroke-width="2"/>
    <text x="847" y="283" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="white">R</text>

    <polygon points="877,280 887,270 897,280 887,290" fill="url(#renderGradient)" stroke="#2E7D32" stroke-width="2"/>
    <text x="887" y="283" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="white">R</text>

    <line x1="867" y1="180" x2="842" y2="205" stroke="#2E7D32" stroke-width="2"/>
    <line x1="867" y1="180" x2="892" y2="205" stroke="#2E7D32" stroke-width="2"/>
    <line x1="842" y1="235" x2="817" y2="270" stroke="#2E7D32" stroke-width="2"/>
    <line x1="842" y1="235" x2="847" y2="270" stroke="#2E7D32" stroke-width="2"/>
    <line x1="892" y1="235" x2="887" y2="270" stroke="#2E7D32" stroke-width="2"/>

    <rect x="777" y="350" width="180" height="80" rx="8" fill="white" stroke="#2E7D32" stroke-width="1" opacity="0.9"/>
    <text x="867" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2E7D32">Characteristics:</text>
    <text x="867" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Layout and Paint</text>
    <text x="867" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Hit-testing</text>
    <text x="867" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#424242">Performance critical</text>
  </g>

  <line x1="300" y1="200" x2="423" y2="200" stroke="#757575" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="633" y1="200" x2="757" y2="200" stroke="#757575" stroke-width="3" marker-end="url(#arrowhead)"/>

  <text x="361" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#757575">builds</text>
  <text x="695" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#757575">creates</text>

  <rect x="100" y="550" width="867" height="40" rx="10" fill="white" stroke="#02569B" stroke-width="2" opacity="0.9"/>
  <text x="533" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#02569B">Widget Tree to Element Tree to Render Tree</text>
  <text x="533" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#424242">Configuration flows to lifecycle management flows to visual rendering</text>
</svg>